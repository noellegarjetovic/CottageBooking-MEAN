<div class="register-container">
  <h2>Registruj se</h2>
  
  <form (ngSubmit)="register()" class="register-form">
    
    <!-- Korisničko ime -->
    <div class="form-group">
      <label for="korime">Korisničko ime</label>
      <input id="korime" type="text" name="korime" [(ngModel)]="u.korime" [class.error]="validationErrors.korime">
      <div class="error-message" *ngIf="validationErrors.korime">
        {{validationErrors.korime}}
      </div>
    </div>

    <!-- Lozinka -->
    <div class="form-group">
      <label for="lozinka">Lozinka</label>
      <input id="lozinka" type="password" name="lozinka" [(ngModel)]="u.lozinka" [class.error]="validationErrors.lozinka">
      <div class="error-message" *ngIf="validationErrors.lozinka">
        <div *ngFor="let error of validationErrors.lozinka.split('\n')">
          {{error}}
        </div>
      </div>
    </div>

    <!-- Ime i Prezime -->
    <div class="form-row">
      <div class="form-group">
        <label for="ime">Ime</label>
        <input id="ime" type="text" name="ime" [(ngModel)]="u.ime"
               [class.error]="validationErrors.ime">
        <div class="error-message" *ngIf="validationErrors.ime">
          {{validationErrors.ime}}
        </div>
      </div>

      <div class="form-group">
        <label for="prezime">Prezime</label>
        <input id="prezime" type="text" name="prezime" [(ngModel)]="u.prezime"
               [class.error]="validationErrors.prezime">
        <div class="error-message" *ngIf="validationErrors.prezime">
          {{validationErrors.prezime}}
        </div>
      </div>
    </div>

    <!-- Pol -->
    <div class="form-group">
      <label>Pol</label>
      <div class="radio-group">
        <label class="radio-label">
          <input type="radio" name="pol" [(ngModel)]="u.pol" value="Ž"> Ženski
        </label>
        <label class="radio-label">
          <input type="radio" name="pol" [(ngModel)]="u.pol" value="M"> Muški
        </label>
      </div>
      <div class="error-message" *ngIf="validationErrors.pol">
        {{validationErrors.pol}}
      </div>
    </div>

    <!-- Adresa -->
    <div class="form-group">
      <label for="adresa">Adresa</label>
      <input id="adresa" type="text" name="adresa" [(ngModel)]="u.adresa" [class.error]="validationErrors.adresa">
      <div class="error-message" *ngIf="validationErrors.adresa">
        {{validationErrors.adresa}}
      </div>
    </div>

    <!-- Telefon i Email -->
    <div class="form-row">
      <div class="form-group">
        <label for="telefon">Kontakt telefon</label>
        <input id="telefon" type="text" name="telefon" [(ngModel)]="u.telefon" [class.error]="validationErrors.telefon">
        <div class="error-message" *ngIf="validationErrors.telefon">
          {{validationErrors.telefon}}
        </div>
      </div>

      <div class="form-group">
        <label for="email">E-mail adresa</label>
        <input id="email" type="email" name="email" [(ngModel)]="u.email" [class.error]="validationErrors.email">
        <div class="error-message" *ngIf="validationErrors.email">
          {{validationErrors.email}}
        </div>
      </div>
    </div>

    <!-- Profilna slika -->
    <div class="form-group">
      <label for="slika">Profilna slika</label>
      <input id="slika" type="file" (change)="selectedFile($event)" accept="image/png, image/jpeg">
      <div class="error-message" *ngIf="validationErrors.slika">
        {{validationErrors.slika}}
      </div>
      
      <small class="help-text">Format: JPG/PNG, veličina: 100x100 - 300x300 px</small>
    </div>

    <!-- Kreditna kartica -->
    <div class="form-group">
      <label for="kartica">Broj kreditne kartice</label>
      <input id="kartica" type="text" name="kartica" [(ngModel)]="u.kartica" (input)="cardType()" [class.error]="validationErrors.kartica">
      <div class="card-icons">
        <img *ngIf="type === 'diners'" src="diners.png" alt="Diners" class="card-icon">
        <img *ngIf="type === 'mastercard'" src="mastercard.png" alt="MasterCard" class="card-icon">
        <img *ngIf="type === 'visa'" src="visa.png" alt="Visa" class="card-icon">
      </div>
      <div class="error-message" *ngIf="validationErrors.kartica">
        {{validationErrors.kartica}}
      </div>
    </div>

    <!-- Tip korisnika -->
    <div class="form-group">
      <label>Tip korisnika</label>
      <div class="radio-group">
        <label class="radio-label">
          <input type="radio" name="tip" [(ngModel)]="u.tip" value="vlasnik"> Vlasnik
        </label>
        <label class="radio-label">
          <input type="radio" name="tip" [(ngModel)]="u.tip" value="turista"> Turista
        </label>
      </div> 
      <div class="error-message" *ngIf="validationErrors.tip">
        {{validationErrors.tip}}
      </div>
    </div>

    <!-- Submit dugme -->
    <button type="submit" class="submit-btn">
      <span>Registruj se</span>
    </button>

    <!-- Poruka -->
    <div class="message" [class.success]="message === 'Uspesna registracija'" [class.error]="message && message !== 'Uspesna registracija'">
      {{message}}
    </div>
  </form>

  <hr/>
  
  <div class="links">
    <a routerLink="">Već imaš nalog? Prijavi se</a>
  </div>
</div>